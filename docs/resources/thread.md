---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "openai_thread Resource - terraform-provider-openai"
subcategory: ""
description: |-
  
---

# openai_thread (Resource)



## Example Usage

```terraform
# Create a basic thread for assistant conversations
resource "openai_thread" "customer_support" {
  # Optional: Add metadata to track the thread
  metadata = {
    customer_id = "cust_12345"
    ticket_id   = "TICKET-789"
    category    = "billing"
    priority    = "high"
  }
}

# Create a thread with initial messages
resource "openai_thread" "technical_discussion" {
  messages = [
    {
      role    = "user"
      content = "I'm having trouble connecting to the API. Getting 401 errors."

      # Optional: Add metadata to the message
      metadata = {
        source    = "web_chat"
        timestamp = "2024-01-15T10:30:00Z"
      }
    },
    {
      role    = "assistant"
      content = "I can help you troubleshoot the 401 authentication error. This typically indicates an issue with your API key. Let me guide you through some steps to resolve this."

      metadata = {
        model_used    = "gpt-4"
        response_time = "1.2s"
      }
    }
  ]

  metadata = {
    department = "technical_support"
    issue_type = "api_authentication"
    created_by = "support_agent_42"
  }
}

# Create a thread for a code review assistant
resource "openai_thread" "code_review" {
  messages = [
    {
      role    = "user"
      content = "Please review this Python function for potential improvements:\n\ndef calculate_total(items):\n    total = 0\n    for item in items:\n        total = total + item['price'] * item['quantity']\n    return total"

      metadata = {
        language    = "python"
        review_type = "optimization"
      }
    }
  ]

  metadata = {
    project    = "backend-api"
    reviewer   = "senior-dev-assistant"
    repository = "github.com/company/backend"
  }
}

# Output the support thread ID
output "support_thread_id" {
  value = openai_thread.customer_support.id
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `messages` (Block List) (see [below for nested schema](#nestedblock--messages))
- `metadata` (Map of String) Set of key-value pairs that can be attached to the thread

### Read-Only

- `created_at` (Number) The timestamp for when the thread was created
- `id` (String) The ID of this resource.

<a id="nestedblock--messages"></a>
### Nested Schema for `messages`

Required:

- `content` (String) The content of the message
- `role` (String) The role of the entity that is creating the message. Currently only 'user' is supported.

Optional:

- `file_ids` (List of String) A list of file IDs that the message should use
- `metadata` (Map of String) Set of key-value pairs that can be attached to the message

## Import

Import is supported using the following syntax:

```shell
#!/bin/bash
###############################################################################
# OpenAI Thread Import Script
###############################################################################
# This script demonstrates how to import an existing OpenAI thread into
# Terraform state.
#
# Usage:
#   ./import.sh <thread_id>
#
# Arguments:
#   thread_id - ID of the thread to import (format: thread_XXXX)
#
# Example:
#   ./import.sh thread_abc123def456
#
# Requirements:
#   - Terraform must be initialized in this directory
#   - OPENAI_API_KEY environment variable must be set
#
###############################################################################

# Check if thread ID is provided
if [ $# -ne 1 ]; then
  echo "Error: Missing thread ID"
  echo "Usage: $0 <thread_id>"
  echo "Example: $0 thread_abc123def456"
  exit 1
fi

THREAD_ID="$1"

# Validate thread ID format
if [[ ! $THREAD_ID =~ ^thread_ ]]; then
  echo "Error: Invalid thread ID format. Expected format: thread_XXXX"
  exit 1
fi

# Check if OPENAI_API_KEY is set
if [ -z "$OPENAI_API_KEY" ]; then
  echo "Error: OPENAI_API_KEY environment variable not set"
  echo "Please set the OPENAI_API_KEY environment variable with your OpenAI API key."
  exit 1
fi

echo "Importing OpenAI Thread: $THREAD_ID"
echo ""

# Create a temporary import configuration
cat > import_thread.tf << EOF
# Temporary configuration for importing thread
resource "openai_thread" "imported" {
  # Minimal configuration for import
  metadata = {}
}
EOF

# Initialize Terraform
echo "Initializing Terraform..."
terraform init

# Import the thread
echo "Importing thread..."
terraform import openai_thread.imported "$THREAD_ID"

if [ $? -eq 0 ]; then
  echo ""
  echo "Thread imported successfully!"
  echo ""
  echo "Next steps:"
  echo "1. Run 'terraform show' to see the imported thread details"
  echo "2. Update resource.tf with the actual thread configuration"
  echo "3. Run 'terraform plan' to verify no changes are needed"
  echo "4. Remove import_thread.tf when done"
else
  echo ""
  echo "Import failed. Please check the thread ID and your permissions."
fi

# Clean up temporary file
rm -f import_thread.tf
```
