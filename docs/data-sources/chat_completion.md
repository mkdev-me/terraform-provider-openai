---
page_title: "OpenAI: openai_chat_completion Data Source"
subcategory: ""
description: |-
  Retrieves information about a specific OpenAI chat completion.
---

# openai_chat_completion Data Source

> **Important Note:** This data source requires the "Chat Completions Store" feature to be enabled on your OpenAI account. This is a relatively new and experimental feature that is not available by default for all accounts. Additionally, when creating chat completions, you must use a compatible model (e.g., gpt-4o) and set the `store` parameter to true.

The `openai_chat_completion` data source allows you to retrieve information about a specific chat completion by its ID. This is useful for examining the details of a previously generated chat completion, including its content, usage statistics, and other metadata.

## Example Usage

```hcl
data "openai_chat_completion" "example" {
  completion_id = "chatcmpl-abc123"
}

output "assistant_response" {
  value = data.openai_chat_completion.example.choices[0].message[0].content
}

output "token_usage" {
  value = data.openai_chat_completion.example.usage
}
```

## Argument Reference

* `completion_id` - (Required) The ID of the chat completion to retrieve (format: chatcmpl-xxx).
* `api_key` - (Optional) Custom API key to use for this data source. If not provided, the provider's default API key will be used.

## Attribute Reference

* `id` - A unique identifier for this data source (not the completion ID).
* `created` - The Unix timestamp (in seconds) of when the chat completion was created.
* `object` - The object type, which is always "chat.completion".
* `model` - The model used for the chat completion.
* `choices` - The list of completion choices the model generated. Each choice contains:
  * `index` - The index of the choice in the list of choices.
  * `message` - The message generated by the model, containing:
    * `role` - The role of the message author (typically "assistant").
    * `content` - The content of the message.
    * `function_call` - The function call details, if present:
      * `name` - The name of the function to call.
      * `arguments` - The arguments to call the function with, as a JSON string.
    * `tool_calls` - The tool call details, if present:
      * `id` - The ID of the tool call.
      * `type` - The type of tool call.
      * `function` - The function details:
        * `name` - The name of the function to call.
        * `arguments` - The arguments to call the function with, as a JSON string.
  * `finish_reason` - The reason the model stopped generating text (e.g., "stop", "length", "function_call").
* `usage` - Usage statistics for the chat completion request:
  * `prompt_tokens` - Number of tokens in the prompt.
  * `completion_tokens` - Number of tokens in the completion.
  * `total_tokens` - Total number of tokens used. 